"use strict";(self.webpackChunkRDV_ADDICTOLOGUE_COM=self.webpackChunkRDV_ADDICTOLOGUE_COM||[]).push([[465],{2597:(e,t,r)=>{r.d(t,{Z:()=>n});var s=r(2791),a=r(1574),o=r(1898),l=r(184);const n=function(){var e;const{event:t,removeEvent:r}=(0,s.useContext)(a.A),[n,i]=(0,s.useState)("");return t&&(0,l.jsx)("div",{className:"fixed z-[9999] inset-0 overflow-y-auto roboto",children:(0,l.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,l.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,l.jsx)("div",{className:"absolute inset-0 bg-gray-900 opacity-80"})}),(0,l.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,l.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:[(0,l.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,l.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,l.jsx)("div",{className:"mx-auto flex-shrink-0 text-portal-600 flex items-center justify-center h-12 w-12 rounded-full bg-portal-100 sm:mx-0 sm:h-10 sm:w-10",children:t.icon?t.icon:(0,l.jsx)(o.Z,{className:"h-6 w-6","aria-hidden":"true"})}),(0,l.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,l.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-headline",children:t.title?t.title:"Message d'information"}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("p",{className:"text-sm leading-5 text-gray-500",children:t.content?t.content:"Aucun message \xe0 afficher"})}),(null===(e=t.link)||void 0===e?void 0:e.url)&&(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("a",{href:t.link.url,className:"inline-flex justify-center w-full rounded-md border border-transparent px-4 py-2 bg-portal-100 text-base font-medium text-portal-800 hover:bg-portal-50 focus:outline-none transition ease-in-out duration-150 sm:text-sm sm:leading-5",children:t.link.text})}),t.code&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("input",{placeholder:t.code.text,type:t.code.type,id:t.code.id,value:n,onChange:e=>i(e.target.value),className:"w-full border border-slate-300 rounded-md shadow my-1 block py-2.5 px-4 text-slate-600 focus:outline-none focus:border-portal-400"}),(0,l.jsx)("button",{onClick:()=>{t.code.setSecraitaireCode(n),r()},type:"button",className:"inline-flex justify-center w-full rounded-md border border-transparent px-4 py-2 bg-portal-100 text-base font-medium text-portal-800 hover:bg-portal-50 focus:outline-none transition ease-in-out duration-150 sm:text-sm sm:leading-5",children:"Valider"})]})]})]})}),(0,l.jsx)("div",{className:"p-4 sm:px-6 sm:flex sm:flex-row-reverse bg-gray-50",children:(0,l.jsx)("span",{className:"flex w-full sm:ml-3 sm:w-auto",children:(0,l.jsx)("button",{onClick:r,type:"button",className:"inline-flex justify-center w-full rounded-md border border-transparent px-4 py-2 bg-portal-100 text-base font-medium text-portal-800 hover:bg-portal-50 focus:outline-none transition ease-in-out duration-150 sm:text-sm sm:leading-5",children:"Fermer le message"})})})]})]})})}},6233:(e,t,r)=>{r.d(t,{Z:()=>g});var s=r(2791),a=r(2750),o=r(338),l=r(2109),n=r(6245),i=r(9323),c=r(2661),d=r(7689),u=r(1087),h=(r(3508),r(4006)),m=r(2367),x=r(5841),p=r(184);function g(e){let{showModal:t,setShowModal:r,includesCities:g,imLost:f,inFrame:v}=e;const b=(0,d.s0)(),[w]=(0,u.lr)(),N=w.get("index");const[j,y]=(0,s.useState)(!1),[S,C]=(0,s.useState)(!1),[k,I]=(0,s.useState)(!1),[D,L]=(0,s.useState)(!1),[P,z]=(0,s.useState)(!1),[M,Z]=(0,s.useState)(!1),[K,R]=(0,s.useState)(!1),[O,A]=(0,s.useState)("France"),[U]=(0,s.useState)((0,h.v9)()),_=(0,s.useCallback)((()=>{f||(!1===t[0]?r([!0,g]):r([!1,!1]))}),[t]);(0,s.useEffect)((()=>{if(!t[0])return;const e=window.location.pathname.split("/")[1];if(U&&e){const t=(0,h.PL)(e);if(t)return A(t)}}),[U,t]),(0,s.useEffect)((()=>{if(!t[0])return;let e=(0,h.R3)(O).reduce(((e,t)=>{let{path:r}=t;return e[r]=(e[r]||0)+1,e}),{});const r=Object.entries(e);Z(r)}),[t,O]),(0,s.useEffect)((()=>{if(!t[0])return;let e=(0,h.Ch)().reduce(((e,t)=>{let{path:r}=t;return e[r]=(e[r]||0)+1,e}),{});const r=Object.entries(e);R(r)}),[t,O]);const E=(e,t)=>{if(""===e)return;if(v){const t=document.createElement("a");return t.href="https://rdv.sarahnacass.com"+e,t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),void document.body.removeChild(t)}if(window.location.href.indexOf(e)>-1)return void r([!1,!1]);const s=new URLSearchParams(window.location.search).get("source");s&&localStorage.setItem("source",s);const a=new URLSearchParams(window.location.search).get("gclid");a&&localStorage.setItem("gclid",a),(t||O)&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"general",localisation_auto:!1,pays:O,region:t,source:null!==s&&void 0!==s?s:void 0})),r([!1,!1]),b(e+"?"+(0,u.fW)({index:N}).toString())},q=(0,s.useCallback)((()=>!!navigator.geolocation),[]),T=v?"geomodal-modal-framed relative bg-slate-90 text-slate-900 w-full bg-slate-100 p-6 pb-0 flex flex-col overflow-y-auto":"geomodal-modal overflow-hidden shadow-2xl relative bg-slate-90 text-slate-900 w-full bg-slate-100 max-w-sm md:max-w-md lg:max-w-lg p-3 sm:p-4 rounded-lg flex flex-col duration-150",V=v?"geomodal-fullscreen-framed box-border border-none":"geomodal-fullscreen box-border backdrop-blur-sm border-none p-2";return U&&M&&t[0]&&(0,p.jsxs)("div",{className:V,onClick:_,children:[S&&(0,p.jsxs)("div",{onClick:e=>e.stopPropagation(),className:T,children:[(0,p.jsx)("div",{className:"absolute bg-red-00 h-5 hidden md:block top-5 right-4",children:(0,p.jsx)("img",{src:m,alt:"Sarah Nacass",className:"h-full"})}),(0,p.jsxs)("h1",{className:"flex text-slate-700 text-base font-semibold mx-1 mt-1.5 mb-2 roboto",children:[(0,p.jsx)("span",{className:"p-1 h-6 w-6 mr-2 rounded-full relative bg-gradient-to-r cursor-pointer to-slate-700 from-slate-600",onClick:()=>{C(!1)},children:(0,p.jsx)(a.Z,{className:"text-white group-hover:text-portal-700 group-hover:scale-150 duration-150 group-hover:text-white",size:16})}),f||t[1]?"S\xe9lectionnez un lieu":"S\xe9lectionnez une zone g\xe9ographique"]}),(0,p.jsxs)("div",{className:"flex flex-row items-center mb-1 -mx-4 px-3 py-0.5 overflow-x-auto",children:[U.map(((e,t)=>{const r="".concat(e===O?"text-slate-50 bg-gradient-to-r from-slate-600 to-slate-700":"text-slate-700 bg-slate-200 hover:bg-slate-300"," text-sm shadow-md shadow-slate-300/60 rounded-full px-4 py-1.5 font-bold m-1 mx-0.5 duration-150 roboto cursor-pointer");return(0,p.jsx)("button",{onClick:()=>{A(e)},className:r,children:e},t)})),q&&(0,p.jsxs)("div",{onClick:()=>E("/use-auto-locate"),className:"bg-gradient-to-r from-portal-500 to-fusion-500 text-white cursor-pointer duration-150 group hover:shadow-lg\r text-xs roboto py-2 px-3 mr-1 font-medium flex flex-row items-center rounded-full",children:[(0,p.jsx)(o.Z,{className:"h-3 w-3 mr-1 shrink-0"}),(0,p.jsx)("span",{className:"block",children:"Choisir\xa0l'institut\xa0le\xa0plus\xa0proche"})]})]}),(0,p.jsx)("div",{className:"overflow-y-auto w-full max-h-96 rounded",children:M.map(((e,t)=>{const r=(0,h.gg)(e[0]);return(0,p.jsxs)("div",{onClick:()=>{E(e[0],r)},className:"geomodal-select flex flex-row group relative hover:bg-gradient-to-r from-portal-500 to-fusion-600 duration-150 hover:cursor-pointer bg-white my-1 rounded py-0.5 sm:py-1 px-4 items-center",children:[(0,p.jsx)("div",{className:"p-2 h-9 w-9 mr-2 rounded-full relative bg-portal-500 group-hover:bg-transparent",children:(0,p.jsx)(l.Z,{className:"text-white group-hover:text-portal-700 group-hover:scale-150 duration-150 group-hover:text-white",size:19})}),(0,p.jsxs)("div",{className:"flex flex-col p-1.5 roboto",children:[(0,p.jsx)("h3",{className:"font-medium text-slate-800 textbase pb-1 group-hover:text-white",children:(0,h.gg)(e[0])}),(0,p.jsx)("p",{className:"text-slate-600 text-xs group-hover:text-portal-100",children:"".concat(e[1]," \xe9tablissement").concat(e[1]>1?"s trouv\xe9s":" trouv\xe9")})]}),(0,p.jsx)("span",{className:"absolute right-4 h-full text-sm items-center hidden roboto text-white group-hover:flex",children:"Continuer"})]},t)}))})]}),D&&(0,p.jsxs)("div",{onClick:e=>e.stopPropagation(),className:T,children:[(0,p.jsx)("div",{className:"absolute bg-red-00 h-5 hidden md:block top-5 right-4",children:(0,p.jsx)("img",{src:m,alt:"Oser le changement",className:"h-full"})}),(0,p.jsxs)("h1",{className:"flex text-slate-700 text-base font-semibold mx-1 mt-1.5 mb-2 roboto",children:[(0,p.jsx)("span",{className:"p-1 h-6 w-6 mr-2 rounded-full relative bg-gradient-to-r cursor-pointer to-slate-700 from-slate-600",onClick:()=>{L(!1)},children:(0,p.jsx)(a.Z,{className:"text-white group-hover:text-portal-700 group-hover:scale-150 duration-150 group-hover:text-white",size:16})}),f||t[1]?"S\xe9lectionnez votre pays":"S\xe9lectionnez une zone g\xe9ographique"]}),(0,p.jsx)("div",{className:"overflow-y-auto w-full max-h-96 rounded",children:Object.entries(x.K5).map(((e,t)=>(0,p.jsxs)("div",{onClick:()=>{((e,t,s)=>{const a=new URLSearchParams(window.location.search).get("source");a&&localStorage.setItem("source",a);const o=new URLSearchParams(window.location.search).get("gclid");o&&localStorage.setItem("gclid",o),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"general",localisation_auto:!1,pays:t,region:"Distanciel",source:null!==a&&void 0!==a?a:void 0}),r([!1,!1]),b(e+s)})(e[0],e[1].name,"/visio-expert")},className:"geomodal-select flex flex-row group relative hover:bg-gradient-to-r from-portal-500 to-fusion-600 duration-150 hover:cursor-pointer bg-white my-1 rounded py-0.5 sm:py-1 px-4 items-center",children:[(0,p.jsx)("div",{className:"p-2 h-9 w-9 mr-2 rounded-full relative bg-portal-500 group-hover:bg-transparent",children:(0,p.jsx)(l.Z,{className:"text-white group-hover:text-portal-700 group-hover:scale-150 duration-150 group-hover:text-white",size:19})}),(0,p.jsx)("div",{className:"flex flex-col p-1.5 roboto",children:(0,p.jsx)("h3",{className:"font-medium text-slate-800 textbase pb-1 group-hover:text-white",children:e[1].name})}),(0,p.jsx)("span",{className:"absolute right-4 h-full text-sm items-center hidden roboto text-white group-hover:flex",children:"Continuer"})]},t)))})]}),P&&K.map((e=>{const t=(0,h.QP)(e[0]);return E(e[0],t)})),!k&&!D&&!S&&!P&&(0,p.jsxs)("div",{onClick:e=>e.stopPropagation(),className:T,children:[(0,p.jsx)("div",{className:"absolute bg-red-00 h-10 hidden md:block top-2 right-4",children:(0,p.jsx)("img",{src:m,alt:"Sarah Nacass",className:"h-full"})}),(0,p.jsx)("h1",{className:"flex text-slate-700 text-base font-semibold mx-1 mt-1.5 mb-2 roboto",children:"S\xe9lectionnez un type de rendez-vous"}),(0,p.jsxs)("div",{className:"overflow-y-auto w-full h-full rounded flex flex-col",children:[(0,p.jsxs)("div",{onClick:()=>{L(!0)},className:"geomodal-select flex flex-row group relative hover:bg-gradient-to-r from-portal-500 to-fusion-600 duration-150 hover:cursor-pointer bg-white my-1 rounded py-0.5 sm:py-1 px-4 items-center height-select-type flex-grow",children:[(0,p.jsx)("div",{className:"p-2 h-9 w-9 mr-2 rounded-full relative bg-portal-500 group-hover:bg-transparent",children:(0,p.jsx)(n.Z,{className:"text-white group-hover:text-portal-700 group-hover:scale-150 duration-150 group-hover:text-white",size:19})}),(0,p.jsxs)("div",{className:"flex flex-col p-1.5 roboto",children:[(0,p.jsx)("h3",{className:"font-medium text-slate-800 textbase pb-1 group-hover:text-white",children:"Visio (Par ordinateur)"}),(0,p.jsx)("p",{className:"text-slate-800 text-sm pb-1 group-hover:text-white",children:"Avec Sarah Nacass elle-m\xeame"}),(0,p.jsx)("p",{className:"text-slate-600 text-xs group-hover:text-portal-100",children:"75 Cabinets Sarah Nacass trouv\xe9s"})]}),(0,p.jsx)("span",{className:"absolute right-4 h-full text-sm items-center hidden roboto text-white group-hover:flex resp",children:"\xc0 partir de 300\u20ac"})]}),(0,p.jsxs)("div",{onClick:()=>{C(!0)},className:"geomodal-select flex flex-row group relative hover:bg-gradient-to-r from-portal-500 to-fusion-600 duration-150 hover:cursor-pointer bg-white my-1 rounded py-0.5 sm:py-1 px-4 items-center height-select-type flex-grow",children:[(0,p.jsx)("div",{className:"p-2 h-9 w-9 mr-2 rounded-full relative bg-portal-500 group-hover:bg-transparent",children:(0,p.jsx)(i.Z,{className:"text-white group-hover:text-portal-700 group-hover:scale-150 duration-150 group-hover:text-white",size:19})}),(0,p.jsxs)("div",{className:"flex flex-col p-1.5 roboto",children:[(0,p.jsx)("h3",{className:"font-medium text-slate-800 textbase pb-1 group-hover:text-white",children:"Sur place"}),(0,p.jsx)("p",{className:"text-slate-800 text-sm pb-1 group-hover:text-white",children:"Avec un praticien du r\xe9seau Sarah Nacass"}),(0,p.jsx)("p",{className:"text-slate-600 text-xs group-hover:text-portal-100",children:"35 villes trouv\xe9es"})]}),(0,p.jsx)("span",{className:"absolute right-4 h-full text-sm items-center hidden roboto text-white group-hover:flex resp",children:"\xc0 partir de 594\u20ac"})]}),(0,p.jsxs)("div",{onClick:()=>{z(!0)},className:"geomodal-select flex flex-row group relative hover:bg-gradient-to-r from-portal-500 to-fusion-600 duration-150 hover:cursor-pointer bg-white my-1 rounded py-0.5 sm:py-1 px-4 items-center height-select-type flex-grow",children:[(0,p.jsx)("div",{className:"p-2 h-9 w-9 mr-2 rounded-full relative bg-portal-500 group-hover:bg-transparent",children:(0,p.jsx)(c.Z,{className:"text-white group-hover:text-portal-700 group-hover:scale-150 duration-150 group-hover:text-white",size:19})}),(0,p.jsxs)("div",{className:"flex flex-col p-1.5 roboto",children:[(0,p.jsx)("h3",{className:"font-medium text-slate-800 textbase pb-1 group-hover:text-white",children:"R\xe9sidentiel"}),(0,p.jsx)("p",{className:"text-slate-800 text-sm pb-1 group-hover:text-white",children:"Dans le lieu de Sarah Nacass suivi par elle"}),(0,p.jsx)("p",{className:"text-slate-600 text-xs group-hover:text-portal-100",children:"Un accompagnement unique en toute intimit\xe9"})]}),(0,p.jsx)("span",{className:"absolute right-4 h-full text-sm items-center hidden roboto text-white group-hover:flex resp",children:"\xc0 partir de 99\u20ac"})]})]})]})]})}},4006:(e,t,r)=>{r.d(t,{$s:()=>i,Ch:()=>g,FX:()=>n,Ml:()=>v,PL:()=>x,QP:()=>u,Qs:()=>f,R3:()=>p,Rw:()=>b,de:()=>w,gg:()=>d,oi:()=>N,v9:()=>m});var s=r(5841);const a=r(4569);function o(e){return e*(Math.PI/180)}const l=e=>{const t=new URLSearchParams(window.location.search);return t.append("sID",e),t.toString()};async function n(e){var t=new Array(s.Kl.length).fill(0);s.Kl.forEach(((r,s)=>{var a=function(e,t,r,s){var a=o(r-e),l=o(s-t),n=Math.sin(a/2)*Math.sin(a/2)+Math.cos(o(e))*Math.cos(o(r))*Math.sin(l/2)*Math.sin(l/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371}(e[0],e[1],r.latitude,r.longitude),n={path:"".concat(r.path,"?").concat(l("".concat(r.pathId)),"&alertUserAboutDispatcherSelection=true"),distance:a,region:r.geoZoneName,pays:r.country.name,ville:r.city};t[s]=n}));return t.reduce(((e,t)=>e.distance<t.distance?e:t))}const i=async(e,t)=>navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0}),c=e=>{for(var t=window.location.search.substring(1).split("&"),r=0;r<t.length;r++){var s=t[r].split("=");if(s[0]===e)return decodeURIComponent(s[1])}return!1};function d(e){const t=s.Kl.findIndex((t=>t.path===e));return s.Kl[t].geoZoneName}function u(e){const t=s.CK.findIndex((t=>t.path===e));return s.CK[t].geoZoneName}const h=(e,t,r)=>e.filter((e=>e[t].includes(r))),m=()=>{const e=s.Kl.map((e=>e.country.name));return[...new Set(e)]},x=e=>{const t=s.K5[e];return void 0===t?null:t.name},p=e=>s.Kl.filter((t=>t.country.name===e)),g=()=>s.CK,f=async e=>{if(void 0==e)return["Sarah Nacass - Visio","/visio",0,"0123456789"];const t=h(s.Kl,"path",e);return["Sarah Nacass - "+(e=>{const t=e.country.code;return 2===s.K5[t].depthOfCoverage?e.geoZoneName:e.country.name})(t[0]),t,t[t.length-1].pathId,t[0].phone]},v=async()=>{const e=h(s.CK,"path","/residentiel");return["Sarah Nacass - "+e[0].country.name,e,e[e.length-1].pathId,"+33 01 76 27 82 67"]},b=e=>{const t=c("selectedDispatcher"),r=c("sID"),s=!1===t?parseInt(r):parseInt(t);return!1===r&&!1!==t&&(e=>{const t=new URL(window.location.href),r=new URLSearchParams(t.search);r.set("sID",e),r.delete("selectedDispatcher"),window.history.replaceState({},"","".concat(t.pathname,"?").concat(r.toString()))})(s),isNaN(s)||s>e||s<0?0:s},w=()=>{const e=localStorage.getItem("last_booking_operation");if(null===e||void 0===e)return{status:!1,datas:null};return{status:!0,datas:JSON.parse(e)}},N=async e=>{try{const t="https://rdv.sarahnacass.com/api/reservations/check-times",r=new Date(e.clientSavedAtTime),s=new Date;if(0===e.typeId){const e=new Date(r);if(e.setDate(r.getDate()+1),e<s)return!1}else if(1===e.typeId){const e=new Date(r);if(e.setHours(r.getHours()+1),e<s)return!1}return await a.post(t,{typeId:e.typeId,isoDate:e.isoDate,appointmentTypeIdPaid:e.appointmentTypeIdPaid,calendarId:e.calendarId}),!0}catch{return!1}}},3508:()=>{}}]);
//# sourceMappingURL=465.4dc7e591.chunk.js.map