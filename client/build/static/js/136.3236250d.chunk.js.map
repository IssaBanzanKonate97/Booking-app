{"version":3,"file":"static/js/136.3236250d.chunk.js","mappings":"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","sources":["components/Checkout/Cancel.jsx","components/Checkout/index.jsx","pages/shared_locations_datas/VISIO_DATAS.js","../node_modules/react-feather/dist/icons/x.js"],"sourcesContent":["import { Container } from \"./index\";\r\nimport { X } from \"react-feather\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst CheckoutCancel = () => {\r\n\r\n    useEffect(() => {\r\n        document.title = \"Paiement annulé - Sarah Nacass\";\r\n    }, []);\r\n\r\n    return <Container>\r\n        <div>\r\n            <div className=\"isError text-center roboto\">\r\n                <X className=\"text-portal-600 mx-auto mb-4\" size={35} />\r\n                <p className=\"my-2 text-center text-xl font-bold text-portal-700\">Paiement annulé</p>\r\n                <p className=\" text-portal-700 text-base text-center\">\r\n                    Le paiement a été annulé et le rendez-vous n'a pas été confirmé. Si vous rencontrez des difficultés pour finaliser votre paiement, n'hésitez pas à contacter le secrétariat des cabinets Sarah Nacass par mail ou par téléphone ou directement\r\n                    <span> <a href=\"https://sarahnacass.com/contact-2/\" className=\"text-portal-500 hover:text-portal-800 underline\">sur notre site</a></span>.\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <a href=\"/\"\r\n            className=\"block mt-5 text-lg roboto font-medium w-full text-center\r\n            text-portal-500 hover:text-portal-800 hover:underline\">\r\n            Retour à l'accueil\r\n        </a>\r\n    </Container>\r\n};\r\n\r\nexport default CheckoutCancel;","import \"./styles.css\";\r\nimport { useState, useEffect, Fragment } from \"react\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport adiosLogo from \"../../img/logo-Sarah-Nacass-Jaune_Blanc-sans-fond.webp\";\r\nimport { Elements, PaymentElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\nimport axios from \"axios\";\r\nimport { Lock } from \"react-feather\";\r\nimport { visio_tarifs } from \"../../pages/shared_locations_datas/VISIO_DATAS\";\r\nimport { locations } from \"../../pages/shared_locations_datas/LOCATIONS_DATAS\";\r\nimport Cookies from 'js-cookie';\r\n\r\n\r\nconst isProductionEnv = process.env.NODE_ENV === \"production\" ? true : false;\r\n\r\nconst Container = ({ children }) => {\r\n    return <div className=\"max-w-lg mx-auto px-2.5 py-6 roboto overflow-hidden\">\r\n        <div className=\"h-10 mx-auto flex flex-col items-center justify-center\">\r\n            <img src={adiosLogo} alt=\"Bienvenue chez Sarah Nacass\" className=\"h-full\" />\r\n        </div>\r\n        <div className=\"py-6 px-4 mt-6 border border-solid border-gray-200 shadow-lg shadow-gray-300/50 rounded-md relative overflow-hidden\">\r\n            {children}\r\n        </div>\r\n\r\n        <div className=\"text-xs text-gray-400 text-center my-5 max-w-md mx-auto\">\r\n            Nous sécurisons toutes vos données personnelles et coordonnées bancaires avec la technologie SSL et le protocole sécurisé Stripe.\r\n            Aussi vos informations personnelles ne seront jamais partagées à des services tiers ou à des fins commerciales, car nous respectons votre vie privée.\r\n        </div>\r\n\r\n    </div>\r\n};\r\n\r\nconst Checkout = () => {\r\n    // Get from url parameters the selected type of appointment (at clinic or in video)\r\n    // with the \"appointmentTypeSelected\" key \"video\" or \"clinic\"\r\n\r\n    const appearance = {\r\n        theme: 'stripe',\r\n\r\n        variables: {\r\n            colorPrimary: '#2f7dc0',\r\n            colorBackground: '#ffffff',\r\n            colorText: '#30313d',\r\n            fontFamily: 'Roboto, sans-serif',\r\n        },\r\n    };\r\n    \r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [stripePromise, setStripePromise] = useState(null);\r\n    const [clientSecret, setClientSecret] = useState(null);\r\n    const [price, setPrice] = useState(null);\r\n    \r\n    useEffect(() => {\r\n        const get = async () => {\r\n            // Get the client secret from the url parameters\r\n            const urlParams = new URLSearchParams(window.location.search);\r\n            if (urlParams.has(\"intent\")) {\r\n                const clientSecret = urlParams.get(\"intent\");\r\n                setClientSecret(clientSecret);\r\n\r\n                return;\r\n            } else {\r\n                setError(\"Une erreur s'est produite lors d'une vérification avec notre service de paiement. Vérifiez que le lien de paiement est valide et réessayez.\");\r\n                return;\r\n            }\r\n        };\r\n\r\n        get();\r\n    }, []);\r\n    \r\n    useEffect(() => {        \r\n        const get = async () => {\r\n\r\n            const urlParams = new URLSearchParams(window.location.search);\r\n            try {\r\n                if (urlParams.has(\"appointmentTypeSelected\")) {\r\n\r\n                    const idLocation = urlParams.get(\"id\");\r\n                    const appointmentTypeSelected = urlParams.get(\"appointmentTypeSelected\");\r\n                    if (appointmentTypeSelected == \"video\") {\r\n                        visio_tarifs.forEach(async objet => {\r\n                            if (idLocation.includes(objet.idLocation)) {\r\n\r\n                                let tarifsVisioCabinet = {\r\n                                    tarif_visio: objet.tarif,\r\n                                    tarif_cabinet: objet.tarif,\r\n                                };\r\n\r\n                                if (Cookies.get('promotion')) {\r\n                                    try {\r\n                                        // Récupérer l'url API\r\n                                        const endpoint = isProductionEnv ? process.env.REACT_APP_PROD_POST_PROMO_CODE : process.env.REACT_APP_DEV_POST_PROMO_CODE;\r\n                                        // Variables envoyées\r\n\r\n                                        const promoResult = await axios.post(endpoint, {\r\n                                          promocode: Cookies.get('promotion'),\r\n                                          formation: objet.formation,\r\n                                          tarif_visio: tarifsVisioCabinet.tarif_visio,\r\n                                          tarif_cabinet: tarifsVisioCabinet.tarif_cabinet,\r\n                                        });\r\n\r\n                                        tarifsVisioCabinet = promoResult.data.data\r\n                                      } catch {}\r\n\r\n                                }\r\n                                \r\n                                return setPrice((tarifsVisioCabinet.tarif_visio.value / 100).toFixed(2).replace('.', ',') + \" \" + tarifsVisioCabinet.tarif_visio.symbol || \"0,00 € (prix indéfini dans le fichier .env)\")\r\n                            }\r\n                        })\r\n                    } else {\r\n                        locations.forEach(async objet => {\r\n                            if (idLocation.includes(objet.idLocation)) {\r\n                                \r\n                                let tarifsVisioCabinet ={\r\n                                    tarif_visio: objet.tarif,\r\n                                    tarif_cabinet: objet.tarif,\r\n                                };\r\n\r\n                                if (Cookies.get('promotion')) {\r\n                                    try {\r\n                                        // Récupérer l'url API\r\n                                        const endpoint = isProductionEnv ? process.env.REACT_APP_PROD_POST_PROMO_CODE : process.env.REACT_APP_DEV_POST_PROMO_CODE;\r\n                                        // Variables envoyées\r\n\r\n                                        const promoResult = await axios.post(endpoint, {\r\n                                          promocode: Cookies.get('promotion'),\r\n                                          tarif_visio: tarifsVisioCabinet.tarif_visio,\r\n                                          tarif_cabinet: tarifsVisioCabinet.tarif_cabinet,\r\n                                        });\r\n\r\n                                        tarifsVisioCabinet = promoResult.data.data\r\n                                    } catch {}\r\n\r\n                                }\r\n\r\n                                return setPrice((tarifsVisioCabinet.tarif_cabinet.value / 100).toFixed(2).replace('.', ',') + \" \" + tarifsVisioCabinet.tarif_cabinet.symbol || \"0,00 € (prix indéfini dans le fichier .env)\")\r\n                            }\r\n                        })\r\n                    }\r\n                    \r\n                    throw 'err';\r\n\r\n                } else {\r\n                    throw 'err';\r\n                }\r\n            } catch (error) {\r\n                setError(\"Il semble que vous n'avez pas réservé de rendez-vous avant de procéder au paiement. Veuillez réserver un rendez-vous pour ensuite procéder au règlement de celui-ci.\");\r\n                return;\r\n            }\r\n        };\r\n\r\n        get();\r\n    }, []);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (!price) return;\r\n\r\n        const get = async () => {\r\n            try {\r\n                const endpoint = isProductionEnv ? process.env.REACT_APP_PROD_GET_PUBLIC_KEY : process.env.REACT_APP_DEV_GET_PUBLIC_KEY;\r\n\r\n                const { data } = await axios.get(endpoint);\r\n                const { publicKey } = data;\r\n                setStripePromise(loadStripe(publicKey));\r\n            } catch (error) {\r\n                setError(\"Une erreur s'est produite lors de la connexion notre service de paiement. Vérifiez votre connexion internet et réessayez, ou contactez-nous si le problème persiste.\");\r\n            }\r\n        };\r\n\r\n        get();\r\n    }, [price]);\r\n    \r\n    useEffect(() => {\r\n        if (stripePromise && clientSecret && price) return setIsLoading(false);\r\n    }, [stripePromise, clientSecret, price]);\r\n\r\n    if (clientSecret != null) {\r\n        return <Container>\r\n            { isLoading ? error ?\r\n                    <div className=\"text-red-600 bg-red-50 text-center px-2 py-2.5 top-0 border border-red-400 rounded font-medium z-30\">\r\n                        Attention : {error}\r\n                    </div>\r\n                        :\r\n                    <div className=\"flex flex-col items-center justify-center gap-3\">\r\n                        <div className=\"border-t-2 border-portal-500 rounded-full animate-spin w-8 h-8\"></div>\r\n                        <div className=\"text-portal-700\">Chargement...</div>\r\n                    </div>\r\n                :\r\n                <div className=\"\">\r\n                    { /* Erreur ici */ }\r\n                    <Elements stripe={stripePromise} options={{ \r\n                        clientSecret, appearance\r\n                    }}>\r\n                        <CheckoutForm price={price} />\r\n                    </Elements>\r\n                </div>\r\n            }\r\n        </Container>\r\n    }\r\n};\r\n\r\nconst CheckoutForm = ({ price }) => {\r\n    const stripe = useStripe();\r\n    const elements = useElements(); \r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [message, setMessage] = useState(null);\r\n    \r\n    \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if(!stripe || !elements) return;\r\n\r\n        setIsLoading(true);\r\n\r\n        const { error } = await stripe.confirmPayment({\r\n            elements,\r\n            confirmParams: {\r\n                return_url: `${ window.location.origin }/checkout/success`\r\n            }\r\n        });\r\n\r\n        if(error) {\r\n            setMessage(error.message);\r\n\r\n            // GTM paiement refusé\r\n            const tarif = JSON.parse(localStorage.getItem(\"last_booking_operation\")).informations.tarif;\r\n            window.dataLayer = window.dataLayer || [];\r\n            window.dataLayer.push({\r\n                'event': 'paiement',\r\n                'montant': tarif.value / 100,\r\n                'devise': tarif.currency,\r\n                'statut_paiement': error.message,\r\n            });\r\n\r\n        }\r\n\r\n        setIsLoading(false);\r\n    };\r\n\r\n    return <form onSubmit={handleSubmit} className=\"sm:px-1\">\r\n        {\r\n            message && <div className=\"text-red-600 bg-red-50 text-center px-2 py-2.5 mb-3 top-0 border border-red-400 rounded font-medium z-30\">Attention : {message}</div>\r\n        }\r\n        <div className=\"text-center text-portal-700 font-medium text-lg\">Règlement de l'accompagnement ({ price })</div>\r\n        <div className=\"mx-auto max-w-min mt-1\">\r\n            <div className=\"text-center text-gray-400 text-sm mb-5 flex min-w-max items-start flex-row gap-2 mx-auto\">\r\n                <Lock size={16} /> Votre paiement est entièrement sécurisé\r\n            </div>\r\n        </div>\r\n\r\n        <PaymentElement />\r\n        <button type=\"submit\" disabled={isLoading} className=\"w-full disabled:opacity-60 font-medium\r\n            disabled:cursor-progress py-3 mt-5 bg-gradient-to-r from-fusion-500 hover:shadow-xl duration-150 to-portal-500 text-white rounded-md shadow-md hover:bg-portal-600 focus:outline-none focus:ring-2 focus:ring-portal-500 focus:ring-opacity-50\">\r\n            {isLoading ? <Fragment>\r\n                <div className=\"border-t-2 border-white rounded-full mx-auto animate-spin w-4 h-4\"></div>\r\n            </Fragment>\r\n            : \"Payer\"}\r\n        </button>\r\n    </form>\r\n};\r\n\r\nexport { Container };\r\nexport default Checkout;","const praticiens = {\r\n    \"visio_sarahnacass\": { calendar: 4188028 },\r\n    \"visio_sarahnacass_2\": { calendar: 8698217 },\r\n};\r\n\r\nconst visio_tarifs = [\r\n\r\n    // Valeur par défaut\r\n    {\r\n        name : \"union-europeenne\",\r\n        appointmentTypeIdPaid : 67052452,\r\n        appointmentTypeIdNotPaid: 67052463,\r\n        acuityAddress: \"https://us02web.zoom.us/j/89415032352?pwd=Rlp2dDU1ODhGektNZ01MRlg4UCs2Zz09\",\r\n        calendarId: { \r\n            0: praticiens[\"visio_sarahnacass\"][\"calendar\"], \r\n        },\r\n        acuityAPI : 1,\r\n        tarif : {\r\n            value : 26400,\r\n            currency : \"eur\",\r\n            symbol : \"€\"\r\n        },\r\n        formation: false,\r\n        path: \"/\",\r\n        idLocation: \"1001\",\r\n    },\r\n\r\n    // Prix au Canada\r\n    {\r\n        name : \"canada\",\r\n        appointmentTypeIdPaid : 67053663,\r\n        appointmentTypeIdNotPaid: 67053671,\r\n        acuityAddress: \"https://us02web.zoom.us/j/89415032352?pwd=Rlp2dDU1ODhGektNZ01MRlg4UCs2Zz09\",\r\n        calendarId: { \r\n            0: praticiens[\"visio_sarahnacass_2\"][\"calendar\"],\r\n        },\r\n        acuityAPI : 2,\r\n        tarif: {\r\n            value : 39200,\r\n            currency : \"cad\",\r\n            symbol : \"$CAD\"\r\n        },\r\n        formation: false,\r\n        path: \"/ca/\",\r\n        idLocation: \"1002\",\r\n    },\r\n\r\n    // Prix au Maroc\r\n    {\r\n        name : \"maroc\",\r\n        appointmentTypeIdPaid : 67053663,\r\n        appointmentTypeIdNotPaid: 67053671,\r\n        acuityAddress: \"https://us02web.zoom.us/j/89415032352?pwd=Rlp2dDU1ODhGektNZ01MRlg4UCs2Zz09\",\r\n        calendarId: { \r\n            0: praticiens[\"visio_sarahnacass_2\"][\"calendar\"],\r\n        },\r\n        acuityAPI : 2,\r\n        tarif: {\r\n            value : 39200,\r\n            currency : \"cad\",\r\n            symbol : \"$CAD\"\r\n        },\r\n        formation: false,\r\n        path: \"/ma/\",\r\n        idLocation: \"1003\",\r\n    },\r\n\r\n    // Valeur par défaut Formation\r\n    {\r\n        name : \"union-europeenne\",\r\n        appointmentTypeIdPaid : 67104997,\r\n        appointmentTypeIdNotPaid: 67105035,\r\n        acuityAddress: \"https://us02web.zoom.us/j/89415032352?pwd=Rlp2dDU1ODhGektNZ01MRlg4UCs2Zz09\",\r\n        calendarId: { \r\n            0: praticiens[\"visio_sarahnacass\"][\"calendar\"], \r\n        },\r\n        acuityAPI : 1,\r\n        tarif : {\r\n            value : 6900,\r\n            currency : \"eur\",\r\n            symbol : \"€\"\r\n        },\r\n        formation: true,\r\n        path: \"/\",\r\n        idLocation: \"1004\",\r\n    },\r\n\r\n    // Prix au Canada Formation\r\n    {\r\n        name : \"canada\",\r\n        appointmentTypeIdPaid : 67105222,\r\n        appointmentTypeIdNotPaid: 67105235,\r\n        acuityAddress: \"https://us02web.zoom.us/j/89415032352?pwd=Rlp2dDU1ODhGektNZ01MRlg4UCs2Zz09\",\r\n        calendarId: { \r\n            0: praticiens[\"visio_sarahnacass_2\"][\"calendar\"],\r\n        },\r\n        acuityAPI : 2,\r\n        tarif: {\r\n            value : 10900,\r\n            currency : \"cad\",\r\n            symbol : \"$CAD\"\r\n        },\r\n        formation: true,\r\n        path: \"/ca/\",\r\n        idLocation: \"1005\",\r\n    },\r\n\r\n    // Prix au Maroc Formation\r\n    {\r\n        name : \"maroc\",\r\n        appointmentTypeIdPaid : 67105222,\r\n        appointmentTypeIdNotPaid: 67105235,\r\n        acuityAddress: \"https://us02web.zoom.us/j/89415032352?pwd=Rlp2dDU1ODhGektNZ01MRlg4UCs2Zz09\",\r\n        calendarId: { \r\n            0: praticiens[\"visio_sarahnacass_2\"][\"calendar\"],\r\n        },\r\n        acuityAPI : 2,\r\n        tarif: {\r\n            value : 10900,\r\n            currency : \"cad\",\r\n            symbol : \"$CAD\"\r\n        },\r\n        formation: true,\r\n        path: \"/ma/\",\r\n        idLocation: \"1006\",\r\n    },\r\n\r\n];\r\nexport { visio_tarifs };\r\n\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar X = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"18\",\n    y1: \"6\",\n    x2: \"6\",\n    y2: \"18\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"6\",\n    y1: \"6\",\n    x2: \"18\",\n    y2: \"18\"\n  }));\n});\nX.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nX.displayName = 'X';\nexport default X;"],"names":["CheckoutCancel","useEffect","document","title","_jsxs","Container","children","_jsx","className","X","size","href","_ref","src","adiosLogo","alt","CheckoutForm","_ref2","price","stripe","useStripe","elements","useElements","isLoading","setIsLoading","useState","message","setMessage","onSubmit","async","e","preventDefault","error","confirmPayment","confirmParams","return_url","concat","window","location","origin","tarif","JSON","parse","localStorage","getItem","informations","dataLayer","push","value","currency","Lock","PaymentElement","type","disabled","Fragment","Checkout","appearance","theme","variables","colorPrimary","colorBackground","colorText","fontFamily","setError","stripePromise","setStripePromise","clientSecret","setClientSecret","setPrice","urlParams","URLSearchParams","search","has","get","idLocation","visio_tarifs","forEach","includes","objet","tarifsVisioCabinet","tarif_visio","tarif_cabinet","Cookies","endpoint","process","axios","promocode","formation","data","toFixed","replace","symbol","locations","publicKey","loadStripe","Elements","options","praticiens","calendar","name","appointmentTypeIdPaid","appointmentTypeIdNotPaid","acuityAddress","calendarId","acuityAPI","path","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","forwardRef","ref","_ref$color","color","_ref$size","rest","React","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","propTypes","PropTypes","displayName"],"sourceRoot":""}